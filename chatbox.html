<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Support Chatbot</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        .animate-bounce-dot {
            animation: bounce 1s infinite;
        }
        .chat-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .chat-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        .chat-scrollbar::-webkit-scrollbar-thumb {
            background: #10b981;
            border-radius: 10px;
        }
        .chat-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #059669;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen p-8">
    
    <!-- Demo Content -->
    <div class="max-w-4xl mx-auto">
        <h1 class="text-4xl font-bold text-gray-800 mb-4">Your Website Content</h1>
        <p class="text-gray-600 mb-4">This is your existing website. The chatbot widget appears in the bottom right corner.</p>
        <p class="text-gray-600">Click the chat button to start a conversation with our AI support assistant!</p>
    </div>

    <!-- Chat Widget Container -->
    <div id="chatWidget" class="fixed bottom-4 right-4 z-50 font-sans max-h-screen">
        
        <!-- Chat Window (Hidden by default) -->
        <div id="chatWindow" class="hidden mb-4 bg-white rounded-2xl shadow-2xl flex flex-col w-[380px] max-h-[calc(100vh-100px)] h-[600px]">
            
            <!-- Header -->
            <div class="bg-gradient-to-r from-emerald-500 to-emerald-600 text-white p-4 rounded-t-2xl flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-white rounded-full flex items-center justify-center">
                        <svg class="w-6 h-6 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path>
                        </svg>
                    </div>
                    <div>
                        <h3 class="font-semibold text-base">Support Chat</h3>
                        <p class="text-xs text-emerald-100">We're here to help!</p>
                    </div>
                </div>
                <div class="flex items-center gap-2">
                    <button id="minimizeBtn" class="hover:bg-emerald-600 p-2 rounded-lg transition">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>
                        </svg>
                    </button>
                    <button id="closeBtn" class="hover:bg-emerald-600 p-2 rounded-lg transition">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Messages Container -->
            <div id="messagesContainer" class="flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 chat-scrollbar">
                <!-- Welcome message -->
                <div class="flex justify-start">
                    <div class="max-w-[80%] rounded-2xl rounded-bl-sm px-4 py-2 bg-white text-gray-800 shadow-sm">
                        <p class="text-sm">Hi! ðŸ‘‹ How can I help you today?</p>
                        <p class="text-xs mt-1 text-gray-400" id="welcomeTime"></p>
                    </div>
                </div>
            </div>

            <!-- Input Area -->
            <div class="p-4 bg-white border-t rounded-b-2xl">
                <div class="flex gap-2">
                    <input
                        type="text"
                        id="messageInput"
                        placeholder="Type your message..."
                        class="flex-1 px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm"
                    />
                    <button
                        id="sendBtn"
                        class="bg-emerald-500 text-white p-3 rounded-xl hover:bg-emerald-600 transition disabled:opacity-50 disabled:cursor-not-allowed"
                    >
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                        </svg>
                    </button>
                </div>
                <p class="text-xs text-gray-400 mt-2 text-center">Smart Support Assistant</p>
            </div>
        </div>

        <!-- Chat Button -->
        <button
            id="chatBtn"
            class="bg-gradient-to-r from-emerald-500 to-emerald-600 text-white p-4 rounded-full shadow-2xl hover:shadow-3xl hover:scale-110 transition-all duration-300 flex items-center gap-2 group"
        >
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path>
            </svg>
            <span class="max-w-0 overflow-hidden group-hover:max-w-xs transition-all duration-300 whitespace-nowrap text-sm font-medium">
                Need Help?
            </span>
        </button>
    </div>

    <script>
        // ============================================
        // CONFIGURATION - Customize your responses here!
        // ============================================
        
        const botResponses = {
            // Greetings
            greetings: {
                keywords: ['hello', 'hi', 'hey', 'good morning', 'good afternoon', 'good evening', 'greetings'],
                responses: [
                    "Hello! ðŸ‘‹ I'm here to help you. What can I assist you with today?",
                    "Hi there! How can I help you today?",
                    "Hey! Welcome! What would you like to know?"
                ]
            },
            
                    // Platform Overview
platform: {
    keywords: ['what is', 'about platform', 'explain', 'how does it work', 'overview', 'dailytrader'],
    responses: [
        "DailyTrader is a comprehensive investment trading platform that helps you trade stocks, crypto, forex, and more. Our platform offers:\nâ€¢ Real-time market data\nâ€¢ Advanced charting tools\nâ€¢ Portfolio management\nâ€¢ Educational resources\nâ€¢ 24/7 trading support\n\nWhat would you like to know more about?",
        "Welcome to DailyTrader! We're a modern trading platform designed for both beginners and experienced traders. You can trade multiple asset classes, access real-time analytics, and manage your portfolio all in one place. How can I help you get started?"
    ]
},

// Getting Started
getting_started: {
    keywords: ['start', 'begin', 'new user', 'first time', 'beginner', 'how to use', 'tutorial'],
    responses: [
        "Getting started is easy! Here's what you need to do:\n\n1ï¸âƒ£ Create your account\n2ï¸âƒ£ Verify your identity (KYC)\n3ï¸âƒ£ Fund your account\n4ï¸âƒ£ Explore our demo mode to practice\n5ï¸âƒ£ Start trading!\n\nWould you like detailed guidance on any of these steps?",
        "Welcome aboard! ðŸŽ‰ For new users, I recommend:\nâ€¢ Start with our demo account to practice\nâ€¢ Watch our tutorial videos\nâ€¢ Read our beginner's guide\nâ€¢ Join our trading community\n\nNeed help with account setup?"
    ]
},

// Account Verification/KYC
verification: {
    keywords: ['verify', 'verification', 'kyc', 'identity', 'document', 'id', 'passport', 'driver license'],
    responses: [
        "Account verification (KYC) is required for security and regulatory compliance. You'll need:\n\nðŸ“„ Government-issued ID (passport, driver's license, or national ID)\nðŸ“ Proof of address (utility bill or bank statement, less than 3 months old)\nðŸ¤³ Selfie for identity confirmation\n\nVerification typically takes 24-48 hours. Having issues? Contact support@dailytrader.com",
        "KYC verification helps protect your account and complies with financial regulations. Upload your documents in the 'Account Settings' section. Our team reviews submissions within 1-2 business days. Still pending after 48 hours? Let us know!"
    ]
},

// Deposits
deposits: {
    keywords: ['deposit', 'fund', 'add money', 'payment method', 'credit card', 'bank transfer', 'wire'],
    responses: [
        "You can fund your account using:\n\nðŸ’³ Credit/Debit Card (instant)\nðŸ¦ Bank Transfer (1-3 business days)\nðŸ’° Crypto Transfer (5-20 minutes)\nðŸŒ Wire Transfer (1-2 business days)\n\nMinimum deposit: $300\nNo deposit fees on most methods!\n\nWhich payment method works best for you?",
        "Ready to fund your account? Go to 'Wallet' â†’ 'Deposit' and choose your preferred method. Deposits are usually processed within minutes for cards and crypto. Bank transfers take 1-3 days. Need help with a specific payment method?"
    ]
},

// Withdrawals
withdrawals: {
    keywords: ['withdraw', 'withdrawal', 'cash out', 'take out money', 'remove funds', 'payout'],
    responses: [
        "Withdrawals are processed quickly and securely:\n\nâ±ï¸ Processing time: 24hrs max. \nðŸ’µ Minimum withdrawal: $50\nðŸ“Š Withdrawal methods: Bank transfer, crypto, wire\n\nImportant: Withdrawals go to verified payment methods only. First withdrawal may take longer for security verification. Questions about a pending withdrawal?",
        "To withdraw funds:\n1. Go to 'Wallet' â†’ 'Withdraw'\n2. Enter amount and select method\n3. Confirm with 2FA\n4. Receive funds in 24hrs max.\n\nNote: All accounts must be verified before withdrawal. Having trouble? Let me know!"
    ]
},

// Trading Fees
fees: {
    keywords: ['fee', 'fees', 'commission', 'charge', 'cost', 'expensive'],
    responses: [
        "Our fee structure is transparent and competitive:\n\nðŸ“ˆ Trading fees: 0.1% - 0.5% per trade\nðŸ’° Deposit fees: Free (most methods)\nðŸ’¸ Withdrawal fees: $2 flat fee\nðŸ“Š Inactivity fee: None\n\nVolume discounts available for active traders! Want to see the complete fee schedule?",
        "We keep fees low and transparent. Trading commissions range from 0.1% to 0.5% depending on your trading volume. No hidden charges! Check 'Settings' â†’ 'Fees' for your personalized rate."
    ]
},

// Asset Types
assets: {
    keywords: ['trade', 'stock', 'crypto', 'forex', 'currency', 'bitcoin', 'cryptocurrency', 'commodities'],
    responses: [
        "You can trade multiple asset classes on DailyTrader:\n\nðŸ“ˆ Stocks (US & International)\nâ‚¿ Cryptocurrencies (50+ coins)\nðŸ’± Forex (major currency pairs)\nðŸ›¢ï¸ Commodities (gold, oil, etc.)\nðŸ“Š Indices (S&P 500, NASDAQ, etc.)\n\nWhat are you interested in trading?",
        "We offer diverse trading opportunities! Popular options include:\nâ€¢ Major stocks (AAPL, TSLA, GOOGL, etc.)\nâ€¢ Crypto (BTC, ETH, USDT, etc.)\nâ€¢ Forex pairs (EUR/USD, GBP/USD, etc.)\nâ€¢ Commodities and more\n\nNeed help finding a specific asset?"
    ]
},

// Demo Account
demo: {
    keywords: ['demo', 'practice', 'trial', 'test', 'virtual money', 'paper trading'],
    responses: [
        "Great idea to start with our demo account! ðŸŽ¯\n\nâœ… $10,000 virtual money\nâœ… Real market data\nâœ… All platform features\nâœ… No risk, perfect for learning\nâœ… Unlimited practice time\n\nSwitch between demo and live account anytime in Settings. Ready to practice?",
        "Our demo mode is perfect for learning! You get virtual funds to trade with real market conditions. No risk involved. Practice strategies, test features, and build confidence before going live. Access it from your dashboard!"
    ]
},

// Security
security: {
    keywords: ['safe', 'secure', 'security', 'hack', 'protection', 'scam', 'fraud', 'trust', '2fa', 'two factor'],
    responses: [
        "Your security is our top priority! ðŸ”’\n\nâœ… Bank-level encryption (SSL/TLS)\nâœ… Two-factor authentication (2FA)\nâœ… Cold storage for crypto assets\nâœ… Regular security audits\nâœ… Insurance protection\n\nWe never ask for passwords via email or chat. Always enable 2FA for maximum security!",
        "We take security seriously:\nâ€¢ All data is encrypted\nâ€¢ 2FA authentication available\nâ€¢ Funds held in segregated accounts\nâ€¢ Licensed and regulated platform\n\nTo enable 2FA: Settings â†’ Security â†’ Enable 2FA. Recommended for all users!"
    ]
},

// Trading Issues/Complaints
trading_issues: {
    keywords: ['not working', 'cant trade', 'order failed', 'error', 'bug', 'glitch', 'frozen', 'stuck'],
    responses: [
        "I'm sorry you're experiencing issues! Let's troubleshoot:\n\n1ï¸âƒ£ Refresh your browser/app\n2ï¸âƒ£ Check your internet connection\n3ï¸âƒ£ Ensure sufficient funds in account\n4ï¸âƒ£ Verify market is open for that asset\n\nStill having problems? Please contact our technical support at support@dailytrader.com or use the 'Report Issue' button. Include:\nâ€¢ What you were trying to do\nâ€¢ Error message (if any)\nâ€¢ Screenshot if possible",
        "Technical issues can be frustrating! Quick fixes:\nâ€¢ Clear browser cache\nâ€¢ Try different browser\nâ€¢ Update the app to latest version\nâ€¢ Check if asset trading is suspended\n\nIf issue persists, our tech team is available 24/7 at support@dailytrader.com. Response time: Under 1 hour!"
    ]
},

// Withdrawal Issues
withdrawal_issues: {
    keywords: ['withdrawal pending', 'withdrawal rejected', 'withdrawal declined', 'cant withdraw', 'withdrawal problem'],
    responses: [
        "I understand withdrawal delays are concerning. Common reasons:\n\nâ— Account not fully verified (KYC pending)\nâ— Incorrect payment details\nâ— Security review in progress\nâ— Trading requirements not met\n\nYour funds are safe! Check 'Wallet' â†’ 'Transaction History' for status. For urgent issues, contact support@dailytrader.com with your transaction ID.",
        "Withdrawal issues? Let's resolve it:\nâ€¢ First withdrawal takes longer (security)\nâ€¢ Verify all KYC documents submitted\nâ€¢ Check withdrawal goes to verified method\nâ€¢ Wait 24-72 hours for processing\n\nStill waiting beyond 3 days? Email support@dailytrader.com immediately with your withdrawal request ID."
    ]
},

// Lost Money/Trading Losses
losses: {
    keywords: ['lost money', 'losing', 'loss', 'negative', 'down', 'bad trade'],
    responses: [
        "I'm sorry to hear about your trading losses. Remember that trading involves risk, and losses are part of the journey. Here's what can help:\n\nðŸ“š Review our risk management guides\nðŸ“Š Use stop-loss orders to limit losses\nðŸŽ“ Take our free trading courses\nðŸ’¬ Join our trading community for advice\n\nConsider using the demo account to refine your strategy. Never invest more than you can afford to lose. Need educational resources?",
        "Trading can be challenging. Important reminders:\nâ€¢ All trading involves risk\nâ€¢ Past performance doesn't guarantee future results\nâ€¢ Use risk management tools (stop-loss, take-profit)\nâ€¢ Consider consulting our educational materials\n\nWant to learn better trading strategies? Check our 'Education' section or speak with our trading coaches!"
    ]
},

// Leverage/Margin
leverage: {
    keywords: ['leverage', 'margin', 'margin trading', 'margin call', 'liquidation'],
    responses: [
        "Leverage trading amplifies both profits AND losses! âš ï¸\n\nAvailable leverage: Up to 1:100\nMargin requirements vary by asset\n\nâš ï¸ Important warnings:\nâ€¢ Can lose more than initial investment\nâ€¢ Margin calls if equity falls below maintenance\nâ€¢ Positions may be liquidated automatically\nâ€¢ Only for experienced traders\n\nNew to leverage? Start small and use our demo account first. Need leverage explained in detail?",
        "Margin trading allows you to trade with borrowed funds. Key points:\nâ€¢ Higher potential returns (and risks)\nâ€¢ Maintenance margin must be maintained\nâ€¢ Risk of liquidation if market moves against you\n\nCheck 'Trading' â†’ 'Margin Calculator' to see requirements. Consider taking our leverage trading course first!"
    ]
},

// Market Hours
market_hours: {
    keywords: ['market hours', 'when open', 'trading hours', 'market closed', 'open time'],
    responses: [
        "Trading hours vary by asset:\n\nðŸ“ˆ US Stocks: Mon-Fri 9:30 AM - 4:00 PM EST\nâ‚¿ Crypto: 24/7 (always open!)\nðŸ’± Forex: Sun 5 PM - Fri 5 PM EST\nðŸ›¢ï¸ Commodities: Varies by exchange\n\nNote: Some extended hours trading available. Check specific asset info for exact hours. Market closed for holidays.",
        "Markets have different schedules:\nâ€¢ Stock markets: Weekdays only\nâ€¢ Crypto markets: Never close\nâ€¢ Forex: 24/5 (closed weekends)\n\nCan't place order? Check if market is open for that asset. View market hours in the 'Markets' section."
    ]
},

// Charts/Analysis
charts: {
    keywords: ['chart', 'charting', 'technical analysis', 'indicator', 'graph', 'candlestick'],
    responses: [
        "Our advanced charting tools include:\n\nðŸ“Š Multiple chart types (candlestick, line, bar)\nðŸ“ˆ 100+ technical indicators\nðŸŽ¨ Drawing tools (trendlines, channels)\nâ° Multiple timeframes (1m to 1M)\nðŸ’¾ Save custom chart layouts\n\nAccess charts from any asset page. Need help with technical analysis? Check our tutorial videos!",
        "Professional charting at your fingertips! Features:\nâ€¢ Real-time data feeds\nâ€¢ Popular indicators (RSI, MACD, Bollinger Bands)\nâ€¢ Compare multiple assets\nâ€¢ Mobile & desktop optimized\n\nFind charting tools in 'Trade' â†’ 'Advanced Charts'. Want a charting tutorial?"
    ]
},

// Referral/Bonus
referral: {
    keywords: ['referral', 'bonus', 'promotion', 'promo', 'reward', 'invite', 'refer friend'],
    responses: [
        "Earn rewards by referring friends! ðŸŽ\n\nðŸ’° You get: $50 bonus per referral\nðŸ’° Friend gets: $25 welcome bonus\n\nHow it works:\n1. Share your referral link (in Settings)\n2. Friend signs up & makes first deposit\n3. Both receive bonuses!\n\nNo limit on referrals. Check current promotions in 'Rewards' section!",
        "Love DailyTrader? Share with friends and earn! Both you and your friend get bonuses when they start trading. Find your unique referral link in Settings â†’ Referral Program. Terms apply."
    ]
},

// Customer Complaints
complaints: {
    keywords: ['complaint', 'complain', 'unhappy', 'disappointed', 'terrible', 'worst', 'angry', 'frustrated'],
    responses: [
        "I'm truly sorry you're having a negative experience. Your satisfaction matters to us. ðŸ™\n\nFor formal complaints:\nðŸ“§ Email: complaints@dailytrader.com\nðŸ“ž Call: 1-800-XXX-XXXX\nðŸ“ Submit via: Settings â†’ Help â†’ File Complaint\n\nWe review all complaints within 24 hours and aim to resolve within 5 business days. Please provide details so we can make this right. What specifically can I help with right now?",
        "I sincerely apologize for your frustration. We take all feedback seriously and want to resolve this. Please share details of your issue and I'll escalate to our management team immediately. You can also file an official complaint at complaints@dailytrader.com for priority handling. How can we improve your experience?"
    ]
},

// Tax/Reporting
tax: {
    keywords: ['tax', 'taxes', '1099', 'tax report', 'irs', 'tax document', 'capital gains'],
    responses: [
        "Tax season made easier! ðŸ“„\n\nWe provide:\nâ€¢ Annual tax reports (1099 forms for US)\nâ€¢ Transaction history exports\nâ€¢ Realized gains/losses summaries\nâ€¢ CSV exports for accountants\n\nAccess: Settings â†’ Documents â†’ Tax Reports\nAvailable after January 31st each year\n\nNote: Consult a tax professional for advice. We provide reports but not tax guidance. Need help downloading?",
        "Tax documents are available in your account! Download your annual statement showing all trades, gains, and losses. Go to Settings â†’ Tax Center. Remember: You're responsible for reporting crypto gains/losses. Consider consulting a tax professional for guidance."
    ]
},

// Regulation/License
regulation: {
    keywords: ['regulated', 'license', 'legal', 'legitimate', 'licensed', 'regulator', 'compliance'],
    responses: [
        "DailyTrader is fully licensed and regulated! âœ…\n\nðŸ›ï¸ Regulated by: SEC/FCA\nðŸ“œ License Number: IN0727I01084\nðŸ” Client funds protection\nðŸ“Š Regular audits\n\nWe comply with all financial regulations in our operating jurisdictions. View our licenses and certifications at: About â†’ Regulatory Information. Operating since [Year].",
        "Yes, we're a legitimate, regulated trading platform! Our licenses and regulatory compliance info is available on our website footer. We adhere to strict financial standards to protect our users. Have specific regulatory questions? Email compliance@dailytrader.com"
    ]
},
            // Product/Service Questions
            products: {
                keywords: ['product', 'service', 'live trading','investment', 'sell', 'buy', 'purchase', 'price', 'cost', 'pricing'],
                responses: [
                    "We offer a range of products and services tailored to your needs. Would you like to know about:\nâ€¢ Our main products\nâ€¢ Pricing information\nâ€¢ Current offers\n\nWhat interests you most?",
                    "Great question! We have several options available. Could you tell me which product or service you're interested in specifically?",
                ]
            },
            
            // Pricing
            pricing: {
                keywords: ['how much', 'price', 'cost', 'expensive','withdrawal', 'cheap', 'affordable', 'payment', 'pay'],
                responses: [
                    "Our pricing varies based on your specific needs. For detailed pricing information, I'd recommend:\nâ€¢ Checking our pricing page\nâ€¢ Speaking with our sales team at sales@example.com\nâ€¢ Scheduling a demo\n\nWould you like me to connect you with someone?",
                    "Pricing depends on the plan you choose. We have options for every budget! Would you like to schedule a call to discuss your specific requirements?"
                ]
            },
            
            // Support/Help
            support: {
                keywords: ['help', 'support', 'open an account','issue', 'problem', 'not working', 'error', 'bug', 'broken', 'fix'],
                responses: [
                    "I'm sorry you're experiencing issues! I'm here to help. Could you describe the problem in more detail? What specifically isn't working?",
                    "Let me help you with that! To better assist you, could you tell me:\nâ€¢ What you were trying to do\nâ€¢ What happened instead\nâ€¢ Any error messages you saw",
                    "I understand you need support. For urgent issues, you can also reach our support team at support@example.com or call us at 1-800-XXX-XXXX."
                ]
            },
            
            // Hours/Contact
            contact: {
                keywords: ['contact', 'reach', 'call', 'email', 'phone', 'hours', 'open', 'available', 'location', 'address'],
                responses: [
                    "You can reach us:\nðŸ“§ Email: support@dailytrader.site\nðŸ“ž Phone: 1-941-276-0630\nðŸ• Hours: Mon-Fri 9AM-6PM EST\n\nHow else can I help you?",
                    "We're available Monday through Friday, 9 AM to 6 PM EST. You can contact us at support@dailytrader.site or call 1-800-XXX-XXXX  24/7. What else would you like to know?"
                ]
            },
            
            // Account/Login
            account: {
                keywords: ['account', 'login', 'password', 'sign in', 'register', 'forgot', 'reset', 'username'],
                responses: [
                    "For account-related issues:\nâ€¢ Forgot password? Click 'Reset Password' on the login page\nâ€¢ New user? Click 'Sign Up' to create an account\nâ€¢ Still having trouble? Email us at support@example.com",
                    "I can help with account issues! Are you trying to:\nâ€¢ Reset your password\nâ€¢ Create a new account\nâ€¢ Access your existing account\n\nLet me know and I'll guide you!"
                ]
            },
            
            // Thanks
            thanks: {
                keywords: ['thank', 'thanks', 'appreciate', 'helpful', 'great'],
                responses: [
                    "You're welcome! ðŸ˜Š Is there anything else I can help you with?",
                    "Happy to help! Let me know if you need anything else!",
                    "My pleasure! Feel free to ask if you have more questions."
                ]
            },
            
            // Goodbye
            goodbye: {
                keywords: ['bye', 'goodbye', 'see you', 'later', 'exit', 'quit'],
                responses: [
                    "Goodbye! Have a great day! Feel free to come back anytime you need help. ðŸ‘‹",
                    "Thanks for chatting! If you need anything else, I'm always here. Take care! ðŸ˜Š",
                ]
            },
            
            // Features
            features: {
                keywords: ['feature', 'functionality', 'can it', 'does it', 'capability', 'what can'],
                responses: [
                    "Our platform offers many great features! Some highlights include:\nâ€¢ Easy-to-use interface\nâ€¢ Advanced analytics\nâ€¢ 24/7 support\nâ€¢ Regular updates\n\nWhat specific feature are you interested in?",
                    "We have tons of features! What would you like to know about specifically? I can tell you about functionality, integrations, or specific capabilities."
                ]
            },
            
            // Default fallback
            default: {
                keywords: [],
                responses: [
                    "That's a great question! While I can help with general inquiries, for detailed information I'd recommend:\nâ€¢ Checking our FAQ page\nâ€¢ Emailing support@dailytrader.com\nâ€¢ Calling us at 1-941-276-0630\n\nIs there anything else I can help clarify?",
                    "I'm here to help! Could you rephrase your question or tell me more about what you're looking for? I can assist with:\nâ€¢ Products & services\nâ€¢ Pricing\nâ€¢ Technical support\nâ€¢ Account issues",
                    "I want to make sure I give you the best answer. Could you provide a bit more detail about what you need? Or would you like me to connect you with our support team?"
                ]
            }
        };
        
        // ============================================
        // Chat Widget JavaScript
        // ============================================
        const chatBtn = document.getElementById('chatBtn');
        const chatWindow = document.getElementById('chatWindow');
        const closeBtn = document.getElementById('closeBtn');
        const minimizeBtn = document.getElementById('minimizeBtn');
        const messageInput = document.getElementById('messageInput');
        const sendBtn = document.getElementById('sendBtn');
        const messagesContainer = document.getElementById('messagesContainer');
        
        let isMinimized = false;
        let isLoading = false;
        let lastCategory = null;

        // Initialize welcome message time
        document.getElementById('welcomeTime').textContent = formatTime(new Date());

        // Toggle chat window
        chatBtn.addEventListener('click', () => {
            chatWindow.classList.remove('hidden');
            chatBtn.classList.add('hidden');
            messageInput.focus();
        });

        closeBtn.addEventListener('click', () => {
            chatWindow.classList.add('hidden');
            chatBtn.classList.remove('hidden');
        });

        minimizeBtn.addEventListener('click', () => {
            isMinimized = !isMinimized;
            if (isMinimized) {
                chatWindow.style.height = '64px';
                chatWindow.style.maxHeight = '64px';
                messagesContainer.style.display = 'none';
                document.querySelector('.border-t').style.display = 'none';
            } else {
                chatWindow.style.height = '600px';
                chatWindow.style.maxHeight = 'calc(100vh - 100px)';
                messagesContainer.style.display = 'block';
                document.querySelector('.border-t').style.display = 'block';
            }
        });

        // Format time
        function formatTime(date) {
            return date.toLocaleTimeString('en-US', { 
                hour: '2-digit', 
                minute: '2-digit' 
            });
        }

        // Add message to chat
        function addMessage(role, content) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `flex ${role === 'user' ? 'justify-end' : 'justify-start'}`;
            
            const time = formatTime(new Date());
            const bgColor = role === 'user' ? 'bg-emerald-500 text-white rounded-br-sm' : 'bg-white text-gray-800 shadow-sm rounded-bl-sm';
            const timeColor = role === 'user' ? 'text-emerald-100' : 'text-gray-400';
            
            messageDiv.innerHTML = `
                <div class="max-w-[80%] rounded-2xl ${bgColor} px-4 py-2">
                    <p class="text-sm whitespace-pre-wrap break-words">${escapeHtml(content)}</p>
                    <p class="text-xs mt-1 ${timeColor}">${time}</p>
                </div>
            `;
            
            messagesContainer.appendChild(messageDiv);
            scrollToBottom();
        }

        // Show typing indicator
        function showTyping() {
            const loadingDiv = document.createElement('div');
            loadingDiv.id = 'typingIndicator';
            loadingDiv.className = 'flex justify-start';
            loadingDiv.innerHTML = `
                <div class="bg-white rounded-2xl rounded-bl-sm px-4 py-3 shadow-sm">
                    <div class="flex gap-1">
                        <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce-dot"></div>
                        <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce-dot" style="animation-delay: 0.2s"></div>
                        <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce-dot" style="animation-delay: 0.4s"></div>
                    </div>
                </div>
            `;
            messagesContainer.appendChild(loadingDiv);
            scrollToBottom();
        }

        function hideTyping() {
            const typingDiv = document.getElementById('typingIndicator');
            if (typingDiv) typingDiv.remove();
        }

        // Scroll to bottom
        function scrollToBottom() {
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // Escape HTML to prevent XSS
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Find best matching response
        function findResponse(userMessage) {
            const message = userMessage.toLowerCase().trim();
            
            let bestMatch = null;
            let highestScore = 0;
            
            // Check each category
            for (const [category, data] of Object.entries(botResponses)) {
                if (category === 'default') continue;
                
                let score = 0;
                for (const keyword of data.keywords) {
                    if (message.includes(keyword)) {
                        score += keyword.length; // Longer keywords = more specific
                    }
                }
                
                if (score > highestScore) {
                    highestScore = score;
                    bestMatch = category;
                }
            }
            
            // If no match, use default
            const category = bestMatch || 'default';
            const responses = botResponses[category].responses;
            
            // Return random response from matched category
            return responses[Math.floor(Math.random() * responses.length)];
        }

        // Send message
        async function sendMessage() {
            const message = messageInput.value.trim();
            if (!message || isLoading) return;

            // Add user message
            addMessage('user', message);
            messageInput.value = '';
            
            isLoading = true;
            sendBtn.disabled = true;
            messageInput.disabled = true;
            showTyping();

            // Simulate thinking time (makes it feel more natural)
            await new Promise(resolve => setTimeout(resolve, 800 + Math.random() * 700));

            hideTyping();
            
            // Get response
            const response = findResponse(message);
            addMessage('assistant', response);
            
            isLoading = false;
            sendBtn.disabled = false;
            messageInput.disabled = false;
            messageInput.focus();
        }

        // Send button click
        sendBtn.addEventListener('click', sendMessage);

        // Enter key to send
        messageInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });
    </script>
</body>
</html>